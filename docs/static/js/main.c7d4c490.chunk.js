(this["webpackJsonpweb-calculator"]=this["webpackJsonpweb-calculator"]||[]).push([[0],{63:function(e){e.exports=JSON.parse('[{"category":"UI","settings":[{"label":"Screen Height","value":"screenHeight","type":"number","min":10,"max":100},{"label":"Emulation Mode","value":"editor","type":"select","options":[{"label":"TI-108","value":"arithmetic"},{"label":"TI-30Xa","value":"algebra"},{"label":"TI-84 Plus CE","value":"calculus"},{"label":"TI-Nspire","value":"statistics"}]}]},{"category":"Graph","settings":[{"label":"X Start","value":"startX","type":"number"},{"label":"X Step","value":"stepX","type":"number","min":0},{"label":"X Stop","value":"stopX","type":"number"},{"label":"Y Start","value":"startY","type":"number"},{"label":"Y Step","value":"stepY","type":"number","min":0},{"label":"Y Stop","value":"stopY","type":"number"}]}]')},73:function(e,t,a){e.exports=a(86)},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),i=a(20),o=a(10),s=a(133);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=Object(n.createContext)(),f=Object(n.createContext)(),p={SET_VARIABLE:"set variable",CHANGE_VARIABLE_NAME:"change variable name",REMOVE_VARIABLE:"remove variable",SET_FUNCTION:"set function",CHANGE_FUNCTION_NAME:"change function name",REMOVE_FUNCTION:"remove function",SET_LIST_ITEM:"set list item",CHANGE_LIST_NAME:"change list name",ADD_LIST:"add list",REMOVE_LIST:"remove list",ADD_HISTORY_ITEM:"add history item",REMOVE_HISTORY_ITEM:"remove history item",LOAD:"load"};var b=a(87),d=a(120),v=Object(b.a)({})((function(e){e.classes;return r.a.createElement("div",null)})),g=a(27);function O(e){return e.replace(/(\w+|\(.*\))\/(\w+|\(.*\))?/g,"\\frac{$1}{$2}").replace(/sqrt\(([^)]*)\)?/g,"\\sqrt{$1}").replace("%","\\%").replace(/~~/g,"")}var h=Object(b.a)({grid:{display:"grid",width:"100%",padding:"10px",gridTemplateColumns:"repeat(4, 1fr)",gridGap:"10px",gridAutoRows:"auto"},gridItem:{display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #CCC",borderRadius:"5px",cursor:"pointer",transition:"all 0.3s","&:hover":{border:"1px solid black",backgroundColor:"white"},"&:last-child":{gridColumn:"3 / 5"}}})((function(e){var t=e.classes;return r.a.createElement("div",{className:t.grid},["+/-","sqrt(","%","+","7","8","9","*","4","5","6","-","1","2","3","+","0",".","="].map((function(e,a){return r.a.createElement("div",{className:t.gridItem,key:a},r.a.createElement(g.InlineMath,{math:O(e)}))})))})),N=Object(b.a)({})((function(e){e.classes;return r.a.createElement("div",null)})),y=Object(b.a)({})((function(e){e.classes;return r.a.createElement("div",null)})),j=Object(b.a)({root:{flex:1},equation:{margin:"2rem",padding:"1rem 2rem"}})((function(e){var t=e.classes,a=Object(n.useContext)(E).editor;return r.a.createElement(d.a,{container:!0,className:t.root},function(){switch(a){case"arithmetic":return r.a.createElement(h,null);case"calculus":return r.a.createElement(N,null);case"statistics":return r.a.createElement(y,null);case"algebra":return r.a.createElement(v,null);default:return r.a.createElement("div",null)}}())})),x=a(131),I=a(132),C=a(91),S=a(122),w=a(44),_=a(121),A=a(123),T=a(90),M=a(124),k={Variable:"Variable",List:"List",Function:"Function"},R={UpArrow:38,DownArrow:40},L=Object(b.a)({root:{position:"relative",height:"2rem",padding:"0.5rem"},input:{position:"absolute",top:0,left:0,width:"100%",height:"100%",color:"rgba(0, 0, 0, 0)",backgroundColor:"rgba(0, 0, 0, 0)",zIndex:10,padding:0,border:0},math:{position:"absolute",top:0,height:"100%",display:"flex",alignItems:"center","& .katex-display":{textAlign:"start",margin:0}},popper:{width:"calc(100vw - 2 * (2rem + 10px) - 4px)"}})((function(e){var t=e.classes,a=e.onSubmit,l=Object(n.useRef)(null),c=Object(n.useRef)(null),i=Object(n.useState)(""),s=Object(o.a)(i,2),u=s[0],m=s[1],E=Object(n.useState)({open:!1,autocompleteTerm:"",suggestions:[]}),p=Object(o.a)(E,2),b=p[0],d=p[1],v=Object(n.useContext)(f),h=Object(o.a)(v,1)[0],N=h.functions,y=h.lists,j=h.variables;function x(e){var t=e.source,a=e.name,n=e.value;return r.a.createElement("span",null,r.a.createElement("span",{style:{color:"grey"}},"[",t,"]")," ",r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a}})," - ",r.a.createElement(g.InlineMath,null,n))}return r.a.createElement("form",{className:t.root,ref:c,onSubmit:a?function(){return a(u)}:void 0},r.a.createElement("div",{onClick:function(){l.current.focus()},className:t.math},r.a.createElement(g.BlockMath,null,O(u))),r.a.createElement("input",{ref:l,value:u,onChange:function(e){for(var t,a=e.target.value,n=/([A-Za-z]\w*)/g,r="";null!==(t=n.exec(a));)r=t[0];m(a);var l=function(e){return r.length&&e.includes(r)},c=function(e){return"[".concat(e.reduce((function(e,t){return"".concat(e,", ").concat(t)})),"]")},i=[].concat(Object(w.a)(Object.keys(j).filter(l).map((function(e){return{source:k.Variable,name:e.replace(r,"<strong>".concat(r,"</strong>")),value:j[e]}}))),Object(w.a)(Object.keys(y).filter(l).map((function(e){return{source:k.List,name:e.replace(r,"<strong>".concat(r,"</strong>")),value:c(y[e])}}))),Object(w.a)(Object.keys(N).filter(l).map((function(e){return{source:k.Function,name:e.replace(r,"<strong>".concat(r,"</strong>")),value:N[e]}}))));d({open:!!(a&&/[A-Za-z]/.exec(a[a.length-1])&&i.length),autocompleteTerm:r,suggestions:i})},className:t.input,spellCheck:!1,onKeyPress:function(e){var t=e.keyCode;t===R.UpArrow||R.DownArrow}}),r.a.createElement(_.a,{open:b.open,anchorEl:b.open?c.current:void 0,placement:"bottom",transition:!0},r.a.createElement(S.a,{className:t.popper},r.a.createElement(A.a,null,b.suggestions.map((function(e,t){return r.a.createElement(T.a,{button:!0,key:t},r.a.createElement(M.a,{primary:x(e)}))}))))))})),V=Object(b.a)({root:{padding:"1rem"}})((function(e){var t=e.classes,a=Object(n.useContext)(f),l=Object(o.a)(a,2),c=l[0].history,i=l[1];return r.a.createElement("div",{className:t.root},r.a.createElement(S.a,{className:t.equation},r.a.createElement(L,{onSubmit:function(e){i({type:p.ADD_HISTORY_ITEM,math:e})}})),c.map((function(e){return r.a.createElement(S.a,null,r.a.createElement(g.BlockMath,{math:"".concat(O(e.input)," = ").concat(O(e.output))}))})))})),D=a(59),H=a.n(D),F=a(60),Y=a.n(F),B=Object(b.a)({root:{position:"relative",width:"100%",height:"100%"}})((function(e){var t=e.classes,a=Object(n.useContext)(f),l=Object(o.a)(a,1)[0],c=l.functions,i=l.variables,u=Object(n.useContext)(E),m=u.startX,p=u.startY,b=u.stepX,d=u.stepY,v=u.stopX,g=u.stopY;return Object(n.useEffect)((function(){var e=H()(m,v+1,b);new Y.a("chart",{type:"line",data:{labels:e,datasets:Object.entries(c).map((function(t){var a=Object(o.a)(t,2),n=a[0],r=a[1];return{label:n,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgb(255, 0, 0)",data:e.map((function(e){return Object(s.a)(r.replace("x","(".concat(e,")")),i)}))}}))},options:{maintainAspectRatio:!1}})}),[c,m,p,b,d,v,g,i]),r.a.createElement("div",{className:t.root},r.a.createElement("canvas",{id:"chart"}))})),X=a(135),G=a(137),P=a(45),U=a(125),W=a(136),J=a(129),q=Object(b.a)({button:{margin:"16px 0 8px 0",height:"calc(100% - 24px)"},row:{"&:hover .fa-minus-circle":{opacity:1}},minusIcon:{opacity:0,transition:"all 0.2s"},center:{display:"flex",alignItems:"center",justifyContent:"center"}})((function(e){var t=e.classes,a=Object(n.useContext)(f),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],E=u[1];return r.a.createElement("div",null,r.a.createElement(X.a,null,r.a.createElement(G.a,{expandIcon:r.a.createElement("i",{className:"far fa-caret-down"})},r.a.createElement(P.a,{variant:"h4"},"Functions")),r.a.createElement(U.a,null,r.a.createElement(d.a,{container:!0},Object.keys(c.functions).concat("").map((function(e,a){return r.a.createElement(d.a,{container:!0,item:!0,xs:12,spacing:2,key:"function-".concat(a),className:t.row},r.a.createElement(d.a,{item:!0,xs:2},r.a.createElement(W.a,{label:"Name",value:e,onChange:function(t){return i({type:p.CHANGE_FUNCTION_NAME,oldName:e,newName:t.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:9},r.a.createElement(W.a,{label:"Function",value:e&&c.functions[e]||"",onChange:function(t){return i({type:p.SET_FUNCTION,fun:e,value:t.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:1,className:t.center},r.a.createElement("i",{className:"far fa-minus-circle fa-2x ".concat(t.minusIcon),onClick:function(){return i({type:p.REMOVE_FUNCTION,fun:e})}})))}))))),r.a.createElement(X.a,null,r.a.createElement(G.a,{expandIcon:r.a.createElement("i",{className:"far fa-caret-down"})},r.a.createElement(P.a,{variant:"h4"},"Lists")),r.a.createElement(U.a,null,r.a.createElement(d.a,{container:!0},Object.keys(c.lists).map((function(e,a){return r.a.createElement(d.a,{container:!0,item:!0,xs:12,spacing:2,key:"list-".concat(a),className:t.row},r.a.createElement(d.a,{item:!0,xs:2},r.a.createElement(W.a,{label:"Name",value:e,onChange:function(t){return i({type:p.CHANGE_LIST_NAME,oldName:e,newName:t.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:9},r.a.createElement(W.a,{label:"Items",value:c.lists[e],onChange:function(t){return i({type:p.SET_LIST_ITEM,i:0,list:e,value:t.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:1,className:t.center},r.a.createElement("i",{className:"far fa-minus-circle fa-2x ".concat(t.minusIcon),onClick:function(){return i({type:p.REMOVE_LIST,list:e})}})))})),r.a.createElement(d.a,{container:!0,spacing:2,className:t.row},r.a.createElement(d.a,{item:!0,xs:2},r.a.createElement(W.a,{label:"Name",value:m,onChange:function(e){return E(e.target.value)},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:2},r.a.createElement(J.a,{variant:"contained",color:"primary",className:t.button,fullWidth:!0,onClick:function(){return i({type:p.ADD_LIST,list:m})}},"New List")))))),r.a.createElement(X.a,null,r.a.createElement(G.a,{expandIcon:r.a.createElement("i",{className:"far fa-caret-down"})},r.a.createElement(P.a,{variant:"h4"},"Variables")),r.a.createElement(U.a,null,r.a.createElement(d.a,{container:!0},Object.keys(c.variables).concat("").map((function(e,a){return r.a.createElement(d.a,{container:!0,item:!0,xs:12,spacing:2,key:"variable-".concat(a),className:t.row},r.a.createElement(d.a,{item:!0,xs:2},r.a.createElement(W.a,{label:"Variable",value:e,onChange:function(t){return i({type:p.CHANGE_VARIABLE_NAME,oldName:e,newName:t.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:9},r.a.createElement(W.a,{label:"Value",value:e&&c.variables[e]||"",onChange:function(t){return i({type:p.SET_VARIABLE,variable:e,value:t.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:1,className:t.center},r.a.createElement("i",{className:"far fa-minus-circle fa-2x ".concat(t.minusIcon),onClick:function(){return i({type:p.REMOVE_VARIABLE,variable:e})}})))}))))))})),z=a(128),$=a(140),Z=a(134),K=a(130),Q=a(63),ee=Object(b.a)({root:{display:"flex",flexDirection:"column"},select:{width:"100%",marginTop:"16px",marginBottom:"8px"}})((function(e){var t=e.classes,a=Object(n.useContext)(E),l=r.a.useRef(null),c=r.a.useState(0),i=Object(o.a)(c,2),s=i[0],u=i[1];r.a.useEffect((function(){u(l.current?l.current.offsetWidth:0)}),[]);var m=function(e){var n=e.setting;switch(n.type){case"select":return r.a.createElement(z.a,{variant:"outlined",className:t.select},r.a.createElement($.a,{id:"".concat(n.value,"-label"),ref:l},n.label),r.a.createElement(Z.a,{labelId:"".concat(n.value,"-label"),value:a[n.value],onChange:a.set(n.value),labelWidth:s},n.options.map((function(e){var t=e.label,a=e.value;return r.a.createElement(K.a,{value:a},t)}))));case"number":default:return r.a.createElement(W.a,{fullWidth:!0,type:n.type,id:"setting-".concat(n),label:n.label,className:t.textField,value:a[n.value],onChange:a.set(n.value),margin:"normal",variant:"outlined"})}};return r.a.createElement("div",{className:t.root},Q.map((function(e,t){var a=e.category,n=e.settings;return r.a.createElement(X.a,{key:"category-".concat(t)},r.a.createElement(G.a,{expandIcon:r.a.createElement("i",{className:"far fa-caret-down"})},r.a.createElement(P.a,{variant:"h4"},a)),r.a.createElement(U.a,null,r.a.createElement(d.a,{container:!0,spacing:2},n.map((function(e,a){return r.a.createElement(d.a,{item:!0,key:"setting-".concat(t,"-").concat(a),xs:12,sm:6},r.a.createElement(m,{setting:e}))})))))})))})),te=Object(C.a)({root:{flex:function(e){return"0 0 ".concat(e.screenHeight,"%")},overflow:"hidden",display:"flex",flexDirection:"column",borderTop:"10px solid black",borderBottom:"10px solid black"},display:{flex:1,overflow:"auto",position:"relative"}});function ae(){var e=Object(n.useState)("history"),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(E),i=te(c);return r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.display},function(){switch(a){case"history":return r.a.createElement(V,null);case"editor":return r.a.createElement(q,null);case"graph":return r.a.createElement(B,null);case"settings":return r.a.createElement(ee,null);default:return r.a.createElement("div",null)}}()),r.a.createElement("div",null,r.a.createElement(x.a,{value:a,onChange:function(e,t){return l(t)}},r.a.createElement(I.a,{label:"History",value:"history",icon:r.a.createElement("i",{className:"fad fa-2x fa-history"})}),!["arithmetic","algebra"].includes(c.editor)&&r.a.createElement(I.a,{label:"Editor",value:"editor",icon:r.a.createElement("i",{className:"fad fa-2x fa-edit"})}),!["arithmetic","algebra"].includes(c.editor)&&r.a.createElement(I.a,{label:"Graph",value:"graph",icon:r.a.createElement("i",{className:"fad fa-2x fa-chart-line"})}),r.a.createElement(I.a,{label:"Settings",value:"settings",icon:r.a.createElement("i",{className:"fad fa-2x fa-cog"})}))))}var ne=Object(b.a)({root:{backgroundColor:"#F5F5F5",height:"100vh",width:"100vw",position:"absolute",left:"0",top:"0",overflow:"auto",display:"flex",flexDirection:"column"}})((function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(ae,null),r.a.createElement(j,null))}));a(85);c.a.render(r.a.createElement((function(e){var t=e.children,a=localStorage.getItem("preferences"),l=Object(n.useState)(m({},a?JSON.parse(a):{screenHeight:50,editor:"arithmetic",startX:-10,startY:-10,stopX:10,stopY:10,stepX:1,stepY:1},{set:function(e){return function(t){return b(m({},u,Object(i.a)({},e,t.target.value)))}}})),c=Object(o.a)(l,2),u=c[0],b=c[1],d=localStorage.getItem("data"),v=Object(n.useReducer)((function(e,t){switch(t.type){case p.LOAD:return t.data;case p.SET_VARIABLE:return m({},e,{variables:m({},e.variables,Object(i.a)({},t.variable,t.value))});case p.CHANGE_VARIABLE_NAME:var a=m({},e,{variables:m({},e.variables,Object(i.a)({},t.newName,e.variables[t.oldName]))});return delete a.variables[t.oldName],a;case p.REMOVE_VARIABLE:var n=m({},e);return delete n.variables[t.variable],n;case p.SET_FUNCTION:return m({},e,{functions:m({},e.functions,Object(i.a)({},t.fun,t.value))});case p.CHANGE_FUNCTION_NAME:var r=m({},e,{functions:m({},e.functions,Object(i.a)({},t.newName,e.functions[t.oldName]))});return delete r.functions[t.oldName],r;case p.REMOVE_FUNCTION:var l=m({},e);return delete l.functions[t.fun],l;case p.SET_LIST_ITEM:return m({},e,{lists:m({},e.lists,Object(i.a)({},t.list,e.lists[t.list].fill(t.value,t.i,t.i+1)))});case p.CHANGE_LIST_NAME:var c=m({},e,{lists:m({},e.lists,Object(i.a)({},t.newName,e.lists[t.oldName]))});return delete c.lists[t.oldName],c;case p.ADD_LIST:return m({},e,{lists:m({},e.lists,Object(i.a)({},t.list,[]))});case p.REMOVE_LIST:var o=m({},e);return delete o.lists[t.list],o;case p.ADD_HISTORY_ITEM:return m({},e,{history:e.history.concat({input:t.math,output:Object(s.a)(t.math,e.variables).toString()})});case p.REMOVE_HISTORY_ITEM:var u=e.history.slice(0);return u.splice(t.n,1),m({},e,{history:u});default:return e}}),d?JSON.parse(d):{variables:{hello:"world"},lists:{},functions:{f1:"x"},history:[]}),g=Object(o.a)(v,2),O=g[0],h=g[1];return Object(n.useEffect)((function(){localStorage.setItem("preferences",JSON.stringify(u)),localStorage.setItem("data",JSON.stringify(O))}),[u,O]),r.a.createElement(E.Provider,{value:u},r.a.createElement(f.Provider,{value:[O,h]},t))}),null,r.a.createElement(ne,null)),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.c7d4c490.chunk.js.map